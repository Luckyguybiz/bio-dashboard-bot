# AGENTS.md — правила для Codex
- Тесты: pytest должен проходить.
- Стиль: ruff + black + isort, pre-commit обязательный.
- Миграции: Alembic автогенерация при изменении моделей.
- Команды:
  - make up / make down — запуск/останов
  - make test — тесты
  - make fmt / make lint — форматирование/линт
  - make migrate — ревизии Alembic
- БД: используем DATABASE_URL из .env, не хардкодим строки.
- Логи: уровень INFO, структурированный формат.
- Безопасность: не скачиваем чужие mp4; работаем только с метаданными YouTube API.
- Telegram: никакой логики в хендлерах — выносим в сервисы.
- PR-качество: маленькие самодостаточные коммиты, понятные сообщения.
R
